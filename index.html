<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorly Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Global Styles */
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f9fafb;
            color: #111827;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark {
            background-color: #1f2937;
            color: #fff;
        }

        /* Utility Cards */
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            padding: 1.5rem;
            transition: box-shadow 0.2s ease, background-color 0.3s, color 0.3s;
        }

        .card:hover {
            box-shadow: 0 4px 6px rgba(0,0,0,0.15);
        }

        body.dark .card {
            background-color: #374151;
            color: #fff;
        }

        /* Auth Page */
        #auth {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f9fafb;
            padding: 0 1rem;
        }

        #auth .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            max-width: 400px;
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        #auth h2 {
            font-size: 1.75rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 2rem;
            color: #111827;
        }

        #auth input {
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin-bottom: 1rem;
            width: 100%;
            font-size: 1rem;
            outline: none;
            box-sizing: border-box;
        }

        #auth input:focus {
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.3);
        }

        #auth button {
            background-color: #000;
            color: #fff;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #000;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        #auth button:hover {
            background-color: #fff;
            color: #000;
        }

        #auth .error-msg {
            color: #dc2626;
            text-align: center;
            margin-top: 1rem;
            font-size: 0.95rem;
        }

        /* Navbar */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: #fff;
            border-bottom: 1px solid #e5e7eb;
        }

        body.dark .navbar {
            background-color: #374151;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-text {
            font-weight: bold;
            font-size: 1.125rem;
        }

        .nav-links a {
            margin-left: 1rem;
            text-decoration: none;
            font-weight: 500;
            color: #374151;
            border-bottom: none;
            cursor: pointer;
        }

        .nav-links a.active {
            color: #2563eb;
            border-bottom: 2px solid #2563eb;
        }

        body.dark .nav-links a {
            color: #d1d5db;
        }

        body.dark .nav-links a.active {
            color: #60a5fa;
            border-bottom-color: #60a5fa;
        }

        /* Profile Dropdown */
        .profile-section {
            position: relative;
        }

        .profile-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            object-fit: cover;
            background-color: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .dropdown {
            position: absolute;
            right: 0;
            margin-top: 0.5rem;
            width: 160px;
            background-color: #fff;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 50;
            overflow: hidden;
        }

        body.dark .dropdown {
            background-color: #374151;
            color: #fff;
        }

        .dropdown button {
            width: 100%;
            text-align: left;
            padding: 0.5rem 1rem;
            border: none;
            background: none;
            cursor: pointer;
            transition: background 0.2s;
            color: inherit;
        }

        .dropdown button:hover {
            background-color: #e5e7eb;
        }

        body.dark .dropdown button:hover {
            background-color: #4b5563;
        }

        /* Welcome Section */
        .welcome-section {
            text-align: center;
            padding: 3rem 1rem;
        }

        .ai-tutor-btn {
            display: inline-block;
            background-color: #000;
            color: #fff;
            padding: 0.5rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            border: 1px solid #000;
            transition: all 0.3s;
            margin-top: 1rem;
            cursor: pointer;
        }

        .ai-tutor-btn:hover {
            background-color: #fff;
            color: #000;
        }

        /* Stats Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            padding: 0 1.5rem;
            margin-top: 2rem;
        }

        .metric-card {
            background-color: #fff;
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: box-shadow 0.2s, background-color 0.3s, color 0.3s;
        }

        .metric-card:hover {
            box-shadow: 0 4px 6px rgba(0,0,0,0.15);
        }

        body.dark .metric-card {
            background-color: #374151;
            color: #fff;
        }

        /* Secondary Navigation */
        .secondary-nav {
            display: flex;
            justify-content: center;
            border-bottom: 1px solid #e5e7eb;
            margin-top: 2rem;
        }

        .secondary-nav button {
            background: none;
            border: none;
            padding: 0.5rem 1.5rem;
            cursor: pointer;
            font-weight: 500;
            margin: 0 0.25rem;
            transition: color 0.2s, border-bottom 0.2s;
            color: inherit;
        }

        .secondary-nav button.active-tab {
            color: #2563eb;
            border-bottom: 2px solid #2563eb;
        }

        body.dark .secondary-nav button {
            color: #9ca3af;
        }

        body.dark .secondary-nav button.active-tab {
            color: #60a5fa;
            border-bottom-color: #60a5fa;
        }

        /* Main Content */
        .main-content {
            padding: 1.5rem;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        @media (min-width: 768px) {
            .overview-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .content-card {
            background-color: #fff;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: box-shadow 0.2s, background-color 0.3s, color 0.3s;
        }

        .content-card:hover {
            box-shadow: 0 4px 6px rgba(0,0,0,0.15);
        }

        body.dark .content-card {
            background-color: #374151;
            color: #fff;
        }

        /* AI Tutor Layout */
        .ai-tutor-layout {
            display: flex;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .quick-actions-column {
            flex: 1;
        }

        .ai-chat-column {
            flex: 2;
        }

        .quick-actions-grid {
            display: grid;
            gap: 0.5rem;
        }

        .quick-action-btn {
            background-color: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
        }

        .quick-action-btn:hover {
            background-color: #e5e7eb;
        }

        /* Chat card adjustments */
        .chat-card {
            display: flex;
            flex-direction: column;
            height: 36rem;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding-right: 0.5rem;
            display: flex;
            flex-direction: column;
            margin-bottom: 0.5rem;
            gap: 0.5rem;
        }

        .chat-message-user {
            background-color: #2563eb;
            color: white;
            padding: 0.75rem;
            border-radius: 1rem;
            margin-left: 2rem;
            align-self: flex-end;
        }

        .chat-message-ai {
            background-color: #f3f4f6;
            color: #111827;
            padding: 0.75rem;
            border-radius: 1rem;
            margin-right: 2rem;
            align-self: flex-start;
        }

        .placeholder-text {
            color: #6b7280;
            text-align: center;
            margin-top: 2rem;
        }

        .chat-input-area {
            display: flex;
            gap: 0.5rem;
        }

        .chat-input-area input {
            flex: 1;
            padding: 0.5rem;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            outline: none;
            background-color: #fff;
            color: #111827;
        }

        body.dark .chat-input-area input {
            background-color: #1f2937;
            color: #fff;
            border-color: #4b5563;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .ai-tutor-layout {
                flex-direction: column;
            }
        }

        /* Form Controls */
        input, select, button {
            border-radius: 0.5rem;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            font-size: 0.875rem;
            margin: 0.25rem;
        }

        button {
            background-color: #2563eb;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #1d4ed8;
        }

        .btn-primary {
            background-color: #2563eb;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            font-weight: 500;
        }

        .btn-primary:hover {
            background-color: #1d4ed8;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            background-color: #f9fafb;
            font-weight: 600;
        }

        body.dark th {
            background-color: #4b5563;
        }

        /* Todo List */
        .todo-list-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: white;
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: background-color 0.2s ease;
        }

        .todo-list-item:hover {
            background-color: #f9fafb;
        }

        body.dark .todo-list-item {
            background-color: #374151;
        }

        body.dark .todo-list-item:hover {
            background-color: #4b5563;
        }

        /* Progress Bars */
        .progress-bar {
            width: 100%;
            background-color: #e5e7eb;
            border-radius: 0.5rem;
            height: 1rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: #2563eb;
            border-radius: 0.5rem;
            transition: width 0.3s ease;
        }

        /* Grid layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        /* Calendar specific */
        .calendar-layout {
            display: flex;
            gap: 1.5rem;
        }

        @media (max-width: 768px) {
            .calendar-layout {
                flex-direction: column;
            }
        }

        .custom-card {
            background-color: #fff;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }

        body.dark .custom-card {
            background-color: #374151;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Auth Component
        function Auth({ setStudentName, setStudentId, setLoggedIn }) {
            const [name, setName] = useState('');
            const [id, setId] = useState('');
            const [msg, setMsg] = useState('');

            const login = () => {
                if (!name || !id) {
                    setMsg('Please enter both Student Name and Student ID.');
                    return;
                }
                setStudentName(name);
                setStudentId(id);
                setLoggedIn(true);
            };

            return (
                <div id="auth">
                    <div className="card">
                        <h2>Login</h2>
                        <input
                            type="text"
                            placeholder="Student Name"
                            value={name}
                            onChange={(e) => setName(e.target.value)}
                        />
                        <input
                            type="text"
                            placeholder="Student ID"
                            value={id}
                            onChange={(e) => setId(e.target.value)}
                        />
                        <button onClick={login}>Login</button>
                        {msg && <p className="error-msg">{msg}</p>}
                    </div>
                </div>
            );
        }

        // Todo List Component
        function TodoList() {
            const [tasks, setTasks] = useState([
                { text: 'Finish Algebra Homework', done: false },
                { text: 'Read Chapter 5 of Science Book', done: true },
                { text: 'Write History Essay', done: false },
                { text: 'Prepare English Presentation', done: true },
            ]);
            const [input, setInput] = useState('');
            const [searchQuery, setSearchQuery] = useState('');
            const [filter, setFilter] = useState('all');

            const addTask = () => {
                if (!input.trim()) return;
                setTasks([...tasks, { text: input, done: false }]);
                setInput('');
            };

            const toggleDone = (index) => {
                const newTasks = [...tasks];
                newTasks[index].done = !newTasks[index].done;
                setTasks(newTasks);
            };

            const deleteTask = (index) => {
                const newTasks = tasks.filter((_, i) => i !== index);
                setTasks(newTasks);
            };

            const filteredTasks = tasks.filter((t) => {
                const matchesSearch = t.text.toLowerCase().includes(searchQuery.toLowerCase());
                if (filter === 'pending') return matchesSearch && !t.done;
                if (filter === 'done') return matchesSearch && t.done;
                return matchesSearch;
            });

            return (
                <div style={{ padding: '1.5rem', backgroundColor: '#f9fafb', minHeight: '100vh' }}>
                    <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>Todo List</h2>

                    <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1rem' }}>
                        <input
                            type="text"
                            placeholder="New task..."
                            value={input}
                            onChange={(e) => setInput(e.target.value)}
                            style={{ flex: 1 }}
                        />
                        <button onClick={addTask} className="btn-primary">Add</button>
                    </div>

                    <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1rem' }}>
                        <input
                            type="text"
                            placeholder="Search..."
                            value={searchQuery}
                            onChange={(e) => setSearchQuery(e.target.value)}
                            style={{ flex: 1 }}
                        />
                        <select
                            value={filter}
                            onChange={(e) => setFilter(e.target.value)}
                            style={{ width: '120px' }}
                        >
                            <option value="all">All</option>
                            <option value="pending">Pending</option>
                            <option value="done">Done</option>
                        </select>
                    </div>

                    {filteredTasks.length === 0 ? (
                        <p style={{ color: '#6b7280' }}>No tasks found.</p>
                    ) : (
                        <div>
                            {filteredTasks.map((t, i) => (
                                <div key={i} className="todo-list-item">
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                        <input
                                            type="checkbox"
                                            checked={t.done}
                                            onChange={() => toggleDone(i)}
                                        />
                                        <span style={{ textDecoration: t.done ? 'line-through' : 'none', color: t.done ? '#6b7280' : 'inherit' }}>
                                            {t.text}
                                        </span>
                                    </div>
                                    <button
                                        onClick={() => deleteTask(i)}
                                        style={{ color: '#dc2626', background: 'none', border: 'none', cursor: 'pointer' }}
                                    >
                                        Delete
                                    </button>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Assignments Component
        function Assignments() {
            const initialAssignments = [
                { title: 'Algebra Homework', subject: 'Math', due: '2025-09-20', status: 'Completed', difficulty: 'Medium', score: 95 },
                { title: 'Science Lab Report', subject: 'Science', due: '2025-09-22', status: 'In Progress', difficulty: 'Hard', score: '' },
                { title: 'History Essay', subject: 'History', due: '2025-09-25', status: 'Pending', difficulty: 'Medium', score: '' },
                { title: 'English Reading', subject: 'English', due: '2025-09-21', status: 'Overdue', difficulty: 'Easy', score: 70 },
            ];

            const [assignments, setAssignments] = useState(initialAssignments);
            const [title, setTitle] = useState('');
            const [subject, setSubject] = useState('');
            const [due, setDue] = useState('');
            const [status, setStatus] = useState('Pending');
            const [difficulty, setDifficulty] = useState('Medium');
            const [score, setScore] = useState('');
            const [search, setSearch] = useState('');
            const [filterStatus, setFilterStatus] = useState('');

            const addAssignment = () => {
                if (!title.trim() || !subject || !due) return;
                setAssignments([...assignments, { title, subject, due, status, difficulty, score }]);
                setTitle(''); setSubject(''); setDue(''); setStatus('Pending'); setDifficulty('Medium'); setScore('');
            };

            const removeAssignment = (index) => {
                setAssignments(assignments.filter((_, i) => i !== index));
            };

            const filteredAssignments = assignments.filter((a) =>
                a.title.toLowerCase().includes(search.toLowerCase()) &&
                (filterStatus === '' || a.status === filterStatus)
            );

            return (
                <div style={{ padding: '1.5rem', backgroundColor: '#f9fafb', minHeight: '100vh' }}>
                    <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1.5rem' }}>Assignment Database</h2>

                    <div style={{ display: 'flex', gap: '1rem', marginBottom: '1.5rem', flexWrap: 'wrap' }}>
                        <input
                            type="text"
                            placeholder="Search assignments..."
                            value={search}
                            onChange={(e) => setSearch(e.target.value)}
                            style={{ flex: '1 1 200px' }}
                        />
                        <select
                            value={filterStatus}
                            onChange={(e) => setFilterStatus(e.target.value)}
                            style={{ flex: '0 0 150px' }}
                        >
                            <option value="">All Statuses</option>
                            <option value="Pending">Pending</option>
                            <option value="In Progress">In Progress</option>
                            <option value="Completed">Completed</option>
                            <option value="Overdue">Overdue</option>
                        </select>
                    </div>

                    <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1.5rem', flexWrap: 'wrap' }}>
                        <input
                            type="text"
                            placeholder="Assignment Title"
                            value={title}
                            onChange={(e) => setTitle(e.target.value)}
                            style={{ flex: '1 1 150px' }}
                        />
                        <input
                            type="text"
                            placeholder="Subject"
                            value={subject}
                            onChange={(e) => setSubject(e.target.value)}
                            style={{ flex: '1 1 120px' }}
                        />
                        <input
                            type="date"
                            value={due}
                            onChange={(e) => setDue(e.target.value)}
                            style={{ flex: '1 1 150px' }}
                        />
                        <select
                            value={status}
                            onChange={(e) => setStatus(e.target.value)}
                            style={{ flex: '1 1 120px' }}
                        >
                            <option>Pending</option>
                            <option>In Progress</option>
                            <option>Completed</option>
                            <option>Overdue</option>
                        </select>
                        <select
                            value={difficulty}
                            onChange={(e) => setDifficulty(e.target.value)}
                            style={{ flex: '1 1 100px' }}
                        >
                            <option>Easy</option>
                            <option>Medium</option>
                            <option>Hard</option>
                        </select>
                        <input
                            type="number"
                            placeholder="Score"
                            value={score}
                            onChange={(e) => setScore(e.target.value)}
                            style={{ flex: '1 1 80px' }}
                        />
                        <button onClick={addAssignment} className="btn-primary">Add</button>
                    </div>

                    {filteredAssignments.length === 0 ? (
                        <p style={{ color: '#6b7280' }}>No assignments found.</p>
                    ) : (
                        <div className="custom-card" style={{ overflowX: 'auto' }}>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Assignment</th>
                                        <th>Subject</th>
                                        <th>Due Date</th>
                                        <th>Status</th>
                                        <th>Difficulty</th>
                                        <th>Score</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {filteredAssignments.map((a, i) => (
                                        <tr key={i}>
                                            <td>{a.title}</td>
                                            <td>{a.subject}</td>
                                            <td>{a.due}</td>
                                            <td>{a.status}</td>
                                            <td>{a.difficulty}</td>
                                            <td>{a.score}</td>
                                            <td>
                                                <button
                                                    onClick={() => removeAssignment(i)}
                                                    style={{ color: '#dc2626', background: 'none', border: 'none', cursor: 'pointer' }}
                                                >
                                                    Delete
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}
                </div>
            );
        }

        // Progress Component
        function Progress() {
            const learningAnalytics = [
                { label: 'Completed', value: 12, color: '#10b981' },
                { label: 'In Progress', value: 5, color: '#3b82f6' },
                { label: 'Pending', value: 3, color: '#f59e0b' },
                { label: 'Overdue', value: 2, color: '#ef4444' },
            ];

            const performanceBySubject = [
                { subject: 'Math', progress: 85 },
                { subject: 'Science', progress: 72 },
                { subject: 'History', progress: 90 },
                { subject: 'English', progress: 65 },
            ];

            return (
                <div className="grid-2">
                    <div className="custom-card">
                        <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>Learning Analytics</h2>
                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                            {learningAnalytics.map((item, i) => (
                                <div
                                    key={i}
                                    style={{
                                        padding: '1rem',
                                        borderRadius: '0.5rem',
                                        color: 'white',
                                        backgroundColor: item.color,
                                        textAlign: 'center'
                                    }}
                                >
                                    <p style={{ fontWeight: 'bold', fontSize: '1.125rem', margin: '0 0 0.25rem 0' }}>{item.value}</p>
                                    <p style={{ fontSize: '0.875rem', margin: 0 }}>{item.label}</p>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="custom-card">
                        <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>Performance by Subject</h2>
                        {performanceBySubject.map((sub, i) => (
                            <div key={i} style={{ marginBottom: '1rem' }}>
                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>
                                    <span style={{ fontWeight: '500' }}>{sub.subject}</span>
                                    <span style={{ fontWeight: '600' }}>{sub.progress}%</span>
                                </div>
                                <div className="progress-bar">
                                    <div
                                        className="progress-fill"
                                        style={{ width: `${sub.progress}%` }}
                                    ></div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Calendar Component
        function CalendarView() {
            const [date, setDate] = useState('');

            const todaysAssignments = [
                { title: 'Algebra Homework', subject: 'Math', due: '2025-09-17' },
                { title: 'Science Lab Report', subject: 'Science', due: '2025-09-17' },
            ];

            return (
                <div style={{ padding: '1.5rem', backgroundColor: '#f9fafb', minHeight: '100vh' }}>
                    <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1.5rem' }}>Study Calendar</h2>

                    <div className="calendar-layout">
                        <div style={{ flex: 2 }} className="custom-card">
                            <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>Select a Date</h3>
                            <input
                                type="date"
                                value={date}
                                onChange={(e) => setDate(e.target.value)}
                                style={{ width: '100%', padding: '0.5rem', border: '1px solid #d1d5db', borderRadius: '0.375rem' }}
                            />
                            <div style={{ marginTop: '1.5rem', color: '#6b7280' }}>
                                <p>Selected date: <span style={{ fontWeight: '600' }}>{date || 'None'}</span></p>
                            </div>
                        </div>

                        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
                            <div className="custom-card">
                                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>Today's Assignments</h3>
                                {todaysAssignments.length === 0 ? (
                                    <p style={{ color: '#6b7280' }}>No assignments for today.</p>
                                ) : (
                                    <div>
                                        {todaysAssignments.map((a, i) => (
                                            <div key={i} className="todo-list-item" style={{ marginBottom: '0.5rem' }}>
                                                <span style={{ fontWeight: '600' }}>{a.title}</span> - {a.subject}
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>

                            <div className="custom-card">
                                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>Add Assignment</h3>
                                <Assignments />
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Chatbot Page Component
        function ChatbotPage({ setLoggedIn, setStudentName, setStudentId }) {
            const quickActions = [
                'Help with Math Problem',
                'Explain Science Concept',
                'Review My Essay',
                'History Homework Help',
            ];

            const [chatMessages, setChatMessages] = useState([]);
            const [input, setInput] = useState('');
            const [tab, setTab] = useState('ai-tutor');
            const [dropdownOpen, setDropdownOpen] = useState(false);
            const [darkMode, setDarkMode] = useState(false);

            const sendMessage = () => {
                if (!input.trim()) return;
                setChatMessages([...chatMessages, { sender: 'user', text: input }]);
                setInput('');
                
                // Simulate AI response
                setTimeout(() => {
                    setChatMessages(prev => [...prev, { 
                        sender: 'ai', 
                        text: 'I understand you need help with: "' + input + '". How can I assist you further?' 
                    }]);
                }, 1000);
            };

            const toggleDarkMode = () => {
                setDarkMode(!darkMode);
                document.body.classList.toggle('dark', !darkMode);
            };

            const handleLogout = () => {
                setStudentName('');
                setStudentId('');
                setLoggedIn(false);
            };

            return (
                <div className={`dashboard ${darkMode ? 'dark' : ''}`}>
                    <nav className="navbar">
                        <div className="logo-section">
                            <div style={{ width: '48px', height: '48px', backgroundColor: '#2563eb', borderRadius: '0.5rem', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontWeight: 'bold' }}>
                                T
                            </div>
                            <span className="logo-text">Tutorly</span>
                        </div>
                        <div className="nav-links">
                            <a href="#" onClick={(e) => { e.preventDefault(); /* navigate to dashboard */ }}>Dashboard</a>
                            <a href="#" className="active" onClick={(e) => { e.preventDefault(); }}>AI Tutor</a>
                        </div>
                        <div className="profile-section">
                            <div
                                className="profile-img"
                                onClick={() => setDropdownOpen(!dropdownOpen)}
                            >
                                U
                            </div>
                            {dropdownOpen && (
                                <div className="dropdown">
                                    <button onClick={toggleDarkMode}>{darkMode ? 'Light Mode' : 'Dark Mode'}</button>
                                    <button onClick={handleLogout} style={{ color: 'red' }}>Logout</button>
                                </div>
                            )}
                        </div>
                    </nav>

                    <div className="secondary-nav">
                        {['ai-tutor', 'calendar', 'todo'].map((item) => (
                            <button
                                key={item}
                                onClick={() => setTab(item)}
                                className={tab === item ? 'active-tab' : ''}
                            >
                                {item === 'ai-tutor' ? 'AI Tutor' : item.charAt(0).toUpperCase() + item.slice(1)}
                            </button>
                        ))}
                    </div>

                    <div className="main-content">
                        {tab === 'ai-tutor' && (
                            <div className="ai-tutor-layout">
                                <div className="quick-actions-column">
                                    <div className="card">
                                        <h3>Quick Actions</h3>
                                        <div className="quick-actions-grid">
                                            {quickActions.map((action, i) => (
                                                <button 
                                                    key={i} 
                                                    className="quick-action-btn"
                                                    onClick={() => setInput(action)}
                                                >
                                                    {action}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                <div className="ai-chat-column">
                                    <div className="card chat-card">
                                        <h3>Chat with AI</h3>
                                        <div className="chat-messages">
                                            {chatMessages.length === 0 ? (
                                                <p className="placeholder-text">No messages yet.</p>
                                            ) : (
                                                chatMessages.map((msg, i) => (
                                                    <div key={i} className={msg.sender === 'user' ? 'chat-message-user' : 'chat-message-ai'}>
                                                        {msg.text}
                                                    </div>
                                                ))
                                            )}
                                        </div>
                                        <div className="chat-input-area">
                                            <input
                                                type="text"
                                                value={input}
                                                onChange={(e) => setInput(e.target.value)}
                                                placeholder="Type your message..."
                                                onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                                            />
                                            <button onClick={sendMessage} className="quick-action-btn">Send</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {tab === 'calendar' && (
                            <div className="card">
                                <CalendarView />
                            </div>
                        )}

                        {tab === 'todo' && (
                            <div className="card">
                                <TodoList />
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Dashboard Component
        function Dashboard({ studentName, setLoggedIn, setStudentName, setStudentId }) {
            const [tab, setTab] = useState('overview');
            const [darkMode, setDarkMode] = useState(false);
            const [dropdownOpen, setDropdownOpen] = useState(false);

            const metrics = ['Learning Sessions', 'Hours Learning', 'Problems Solved', 'Streaks'];

            const handleLogout = () => {
                setStudentName('');
                setStudentId('');
                setLoggedIn(false);
            };

            const toggleDarkMode = () => {
                setDarkMode(!darkMode);
                document.body.classList.toggle('dark', !darkMode);
            };

            const goToAITutor = () => {
                // This would normally navigate to the AI tutor page
                window.location.hash = 'ai-tutor';
            };

            return (
                <div className={`dashboard ${darkMode ? 'dark' : ''}`}>
                    <nav className="navbar">
                        <div className="logo-section">
                            <div style={{ width: '48px', height: '48px', backgroundColor: '#2563eb', borderRadius: '0.5rem', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontWeight: 'bold' }}>
                                T
                            </div>
                            <span className="logo-text">Tutorly</span>
                        </div>

                        <div className="nav-links">
                            <a href="#" className={tab === 'overview' ? 'active' : ''} onClick={(e) => { e.preventDefault(); }}>
                                Dashboard
                            </a>
                            <a href="#" onClick={(e) => { e.preventDefault(); goToAITutor(); }}>AI Tutor</a>
                        </div>

                        <div className="profile-section">
                            <div
                                className="profile-img"
                                onClick={() => setDropdownOpen(!dropdownOpen)}
                            >
                                {studentName ? studentName.charAt(0).toUpperCase() : 'U'}
                            </div>
                            {dropdownOpen && (
                                <div className="dropdown">
                                    <button onClick={toggleDarkMode}>
                                        {darkMode ? 'Light Mode' : 'Dark Mode'}
                                    </button>
                                    <button onClick={handleLogout} style={{ color: 'red' }}>
                                        Logout
                                    </button>
                                </div>
                            )}
                        </div>
                    </nav>

                    <div className="welcome-section">
                        <h1>Welcome back, {studentName || 'Student'}!</h1>
                        <p>Ready to continue your learning journey?</p>
                        <button className="ai-tutor-btn" onClick={goToAITutor}>Go to AI Tutor</button>
                    </div>

                    <div className="metrics-grid">
                        {metrics.map((metric, i) => (
                            <div key={i} className="metric-card">
                                <h2>{metric}</h2>
                                <p style={{ fontSize: '2rem', fontWeight: 'bold', margin: '0.5rem 0' }}>0</p>
                            </div>
                        ))}
                    </div>

                    <div className="secondary-nav">
                        {['overview', 'assignments', 'progress'].map((item) => (
                            <button
                                key={item}
                                onClick={() => setTab(item)}
                                className={tab === item ? 'active-tab' : ''}
                            >
                                {item.charAt(0).toUpperCase() + item.slice(1)}
                            </button>
                        ))}
                    </div>

                    <div className="main-content">
                        {tab === 'overview' && (
                            <div className="overview-grid">
                                <div className="content-card">
                                    <h3>Recent Activity</h3>
                                    <p>Your recent learning activities will appear here.</p>
                                </div>
                                <div className="content-card">
                                    <h3>Achievements</h3>
                                    <p>Your achievements and badges will be displayed here.</p>
                                </div>
                                <div className="content-card">
                                    <h3>Quick Actions</h3>
                                    <p>Quick access to common tasks and features.</p>
                                </div>
                                <div className="content-card">
                                    <h3>Daily Goal</h3>
                                    <p>Track your daily learning progress and goals.</p>
                                </div>
                            </div>
                        )}

                        {tab === 'assignments' && (
                            <div className="content-card">
                                <Assignments />
                            </div>
                        )}

                        {tab === 'progress' && (
                            <div className="overview-grid">
                                <div className="content-card">
                                    <Progress />
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Main App Component
        function App() {
            const [studentName, setStudentName] = useState('');
            const [studentId, setStudentId] = useState('');
            const [loggedIn, setLoggedIn] = useState(false);
            const [currentPage, setCurrentPage] = useState('dashboard');

            // Simple routing based on hash
            useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash.slice(1);
                    if (hash === 'ai-tutor') {
                        setCurrentPage('ai-tutor');
                    } else {
                        setCurrentPage('dashboard');
                    }
                };

                window.addEventListener('hashchange', handleHashChange);
                handleHashChange(); // Check initial hash

                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);

            if (!loggedIn) {
                return (
                    <Auth
                        setStudentName={setStudentName}
                        setStudentId={setStudentId}
                        setLoggedIn={setLoggedIn}
                    />
                );
            }

            if (currentPage === 'ai-tutor') {
                return (
                    <ChatbotPage
                        studentName={studentName}
                        setLoggedIn={setLoggedIn}
                        setStudentName={setStudentName}
                        setStudentId={setStudentId}
                    />
                );
            }

            return (
                <Dashboard
                    studentName={studentName}
                    setLoggedIn={setLoggedIn}
                    setStudentName={setStudentName}
                    setStudentId={setStudentId}
                />
            );
        }

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>